<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>欢迎注册</title>
<script type="text/javascript">

function validate_required(field,alerttxt)
{
with (field)
  {
  if (value==null||value=="")
    {alert(alerttxt);return false}
  else {return true}
  }
}

function password_required(field,alerttxt)
{
with (field)
  {
  if (value.length!=6)
    {alert(alerttxt);return false}
  else {return true}
  }
}

function validate_form(thisform)
{
with (thisform)
  {
  if (validate_required(email,"您的邮箱为空！")==false)
    {email.focus();return false}
  if (validate_required(password,"您还未设置密码！")==false)
    {password.focus();return false}
  if (password_required(password,"密码位数不正确，请设置六位密码！")==false)
    {password.focus();return false}
  }
}
</script>
</head>

<body>
<p>欢迎注册HSTP！</p>
{% if flag == 2%}
<p><font color="#FF0000">密码不匹配，请检查后重新输入！</font></p>
{% elif flag == 3%}
<p><font color="#FF0000">该邮箱已经注册，请直接<a href="/return_login/">登录</a>!</font></p>
{% endif %}
<form  method="post" action="/register/" onsubmit="return validate_form(this)">
 <table>
 <tr><p>用户名：<input name="email" type="email" placeholder="请输入您的邮箱" /></p></tr>
  <tr><p>密码：<input name="password" type="password" placeholder="6位数字"/></p></tr>
  <tr><p>确认密码：<input name="password2" type="password" /></p></tr>
  <tr><input type="submit" value="提交" /></tr>
</form>
</body>
</html>